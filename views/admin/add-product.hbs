<div class="half">
    <div class="bg order-1 order-md-2" style="background-image: url('/adminLogin/images/bg_1.jpg');"></div>
    <ol class="breadcrumb">
        <li class="pr-3"><a href="/admin" style="text-decoration: none;">Home</a></li>
        <li class="pr-3"><a href="/admin/products" style="text-decoration: none;">All Products</a></li>
        <li class="active">Add New Product</li>
    </ol>
    <div class="contents order-2 order-md-1">
        <div class="container">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-12">
                    <div class="text-center mb-5">
                        <h3>Add <strong>New Product</strong></h3>

                    </div>
                    <form action="/admin/add-product" method="POST" enctype="multipart/form-data"
                        style="padding-top: 40px;" id="add-prod">


                        {{#if productExist}}
                        <div class="alert alert-danger" role="alert">
                            This product is already exist!
                        </div>
                        {{/if}}
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputName">Product Name</label>
                                <input type="text" class="form-control" id="inputName" name="name">
                            </div>



                            <div class="form-group col-md-6">

                                <label for="brand">Brand</label>


                                <select name="brand" id="brand" class="custom-select p-2">
                                    <option value="" selected>Choose a Brand</option>

                                    {{#each brands}}
                                    <option value="{{this.brand}}">{{this.brand}}</option>
                                    {{/each}}



                                </select>

                                {{#if catErrPro}}
                                <p class="text-center text-danger">{{catErrPro}}</p>
                                {{/if}}



                            </div>
                            {{!-- <div class="col-md-1">
                                <a href="/admin/add-brands" style="margin-top: 42%;" class="btn btn-primary "><i
                                        class="fas fa-plus"></i></a>
                            </div> --}}
                        </div>

                        <div class="form-row">
                            {{!-- <div class="form-group col-md-5">
                                <label for="inputDescription">Description</label>
                                <input type="text" class="form-control" id="inputDescription" name="description">
                            </div> --}}

                            <div class="form-group col-md-6">

                                <label for="category">Category</label>

                                <select name="category" id="category" class="custom-select p-2">
                                    <option value="" selected>Choose a Category</option>

                                    {{#each categories}}
                                    <option value="{{this.category}}">{{this.category}}</option>
                                    {{/each}}
                                </select>

                                {{#if catErrPro}}
                                <p class="text-center text-danger">{{catErrPro}}</p>
                                {{/if}}

                            </div>
                            {{!-- <div class="col-md-1">
                                <a href="/admin/add-category" style="margin-top: 42%;" class="btn btn-primary "><i
                                        class="fas fa-plus"></i></a>
                            </div> --}}

                            {{#if catErrPro}}
                            <p class="text-center text-danger">{{catErrPro}}</p>
                            {{/if}}



                            <div class="form-group col-md-6">


                                <label for="inputCost">Landing cost</label>
                                <input type="number" class="form-control" onkeydown="return event.keyCode !== 69"
                                    id="landCost" name="cost">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputPrice">Price</label>
                                <input type="number" class="form-control" onkeydown="return event.keyCode !== 69"
                                    id="Price" name="price">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputStock">Stock</label>
                                <input type="number" class="form-control" onkeydown="return event.keyCode !== 69"
                                    id="inputStock" name="stock">
                            </div>

                        </div>


                        <div class="row">
                            <div class="col-12">
                                <div id="image-box1" style="width: 500px; height: 500px; display: none;"></div>
                                <button class="btn btn-primary mt-3" type="button" style="display: none;"
                                    id="crop-btn1">Crop</button>
                            </div>
                            <div class="mt-5 col-md-6">
                                <label for="">IMAGE 1</label>
                                <img src="" alt="" style="width: 100px; height:auto" id="imgview1">
                                {{!-- <div id="preview1"></div> --}}
                                <input type="file" name="image1" id="file1" class="form-control"
                                    onchange="return fileValidation1()">
                            </div>
                            <div class="mt-5 col-md-6">
                                <label for="">IMAGE 2</label>
                                <img src="" alt="" style="width: 100px; height:auto" id="imgview2">
                                {{!-- <div id="preview1"></div> --}}
                                <input type="file" name="image2" id="file2" class="form-control"
                                    onchange="return fileValidation2()">
                            </div>
                            <div class="mt-5 col-md-6">
                                <label for="">IMAGE 3</label>
                                <img src="" alt="" style="width: 100px; height:auto" id="imgview3">
                                {{!-- <div id="preview1"></div> --}}
                                <input type="file" name="image3" id="file3" class="form-control"
                                    onchange="return fileValidation3()">
                            </div>
                            <div class="mt-5 col-md-6">
                                <label for="">IMAGE 4</label>
                                <img src="" alt="" style="width: 100px; height:auto" id="imgview4">
                                {{!-- <div id="preview1"></div> --}}
                                <input type="file" name="image4" id="file4" class="form-control"
                                    onchange="return fileValidation4()">
                            </div>

                        </div>
                        <center>
                            <button id="confirm-btn1" type="submit" class="btn btn-primary mt-5">Add
                                Product</button><br>
                        </center>

                        <p class="text-danger text-center" style="display: none;" id="errMsg">Only Image is
                            Accepted</p>

                        {{!-- <center>
                            <input type="submit" value="ADD PRODUCT" id='sub' style="width: max-content;"
                                class="btn  btn-primary mt-4">
                        </center> --}}

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {

        $('#Price').blur(function () {

            let cost = document.getElementById('landCost').value
            let price = document.getElementById('Price').value
            {{!-- cost=parseInt(cost)+500 --}}
            if (price < cost) {

                $('#confirm-btn1').hide()
                Swal.fire('Price must be greater than landing cost')
            } else {
                $('#confirm-btn1').show()
            }
        })

        $('#landCost').blur(function () {

            let cost = document.getElementById('landCost').value
            let price = document.getElementById('Price').value
            {{!-- cost=parseInt(cost)+500 --}}
            if (price < cost) {

                $('#confirm-btn1').hide()
                Swal.fire('Landing cost must be less than price')
            } else {
                $('#confirm-btn1').show()
            }
        })
    })

</script>